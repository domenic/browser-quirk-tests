<!DOCTYPE html>
<html lang="en">
<title>Incumbent page</title>

<h1>You are looking at the incumbent page</h1>

<script>
"use strict";
document.domain = "now.sh";
</script>

<iframe src="https://frame-element-current-kwekmtncpb.now.sh/" id="c"></iframe>
<iframe src="https://frame-element-relevant-qwwigdyhww.now.sh/" id="r"></iframe>

<script>
  const current = document.querySelector("#c").contentWindow;
  const relevant = document.querySelector("#r").contentWindow;

  relevant.onmessage = (ev) => {
    console.log(ev.source);
    console.log(ev.origin);
  };

  window.test = () => {
    const method = current.postMessage;
    method.call(relevant, "boo", "*");
  };

</script>
